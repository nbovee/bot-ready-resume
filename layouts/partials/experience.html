{{- $experience := .data.experience }}
{{- if $experience | and $experience.show }}
<section class="experience" style="order: {{ $experience.order | default 1 }}">
  <div class="section-title">
    <i class="section-icon fa-solid fa-briefcase"></i>
    <h2>{{ $experience.title }}</h2>
  </div>

  <div class="section-content">
    {{- if $experience.description }}
    <div class="description markdown">
      {{ $experience.description | markdownify | safeHTML }}
    </div>
    {{- end }}

    {{- if $experience.items }}
    <div class="items">
      {{- range $item := $experience.items }}
      <div class="item">

        {{- if $item.company }}
        <div class="row">
          <div class="company">
            {{- if $item.link }}
            <a href="{{ $item.link }}" target="_blank">{{ $item.company | safeHTML }}</a>
            {{- else }}
            <span>{{ $item.company | safeHTML }}</span>
            {{- end }}
            {{- if $item.tags }}
            <small>[{{ $item.tags }}]</small>
            {{- end }}
          </div>
          <div class="date">
            <span>{{ $item.date }}</span>
          </div>
        </div>

        <div class="row">
          <div class="role">
            <span>{{ $item.role }}</span>
          </div>
          {{- if $item.location }}
          <div class="location">
            <i class="fa-solid fa-location-dot"></i>
            <span>{{ $item.location }}</span>
          </div>
          {{- end }}
        </div>

        {{- if $item.description }}
        <div class="description markdown">
          {{ $item.description | markdownify | safeHTML }}
        </div>
        {{- end }}
        {{- end }}

      </div>
      {{- end }}
    </div>
    {{- end }}
  </div>
</section>
{{- end }}
